{"version":3,"sources":["utils/mutations.js","utils/auth.js","components/SignupForm.js","components/LoginForm.js","components/NavBar.js","utils/queries.js","utils/helpers.js","components/BannerCard.js","components/BannerContainer.js","components/BannerIntro.js","pages/Search.js","utils/Cities.js","utils/API.js","pages/Home.js","utils/localStorage.js","components/Table.js","pages/Profile.js","assets/images/city.jpg","components/Footer.js","App.js","index.js"],"names":["LOGIN_USER","gql","SAVE_HOME_CITY","ADD_USER","SAVE_CITY","REMOVE_CITY","decode","this","getToken","token","isTokenExpired","exp","Date","now","localStorage","removeItem","getItem","idToken","setItem","window","location","assign","SignupForm","useState","username","email","password","userFormData","setUserFormData","validated","showAlert","setShowAlert","useMutation","addUser","error","useEffect","handleInputChange","event","target","name","value","handleFormSubmit","a","console","log","preventDefault","currentTarget","checkValidity","stopPropagation","variables","data","Auth","login","Form","noValidate","onSubmit","Alert","dismissible","onClose","show","variant","Group","Label","htmlFor","Control","type","placeholder","onChange","required","Feedback","Button","className","disabled","LoginForm","Fragment","AppNavbar","showModal","setShowModal","Navbar","bg","expand","Container","fluid","Brand","as","Link","to","icon","faHome","Toggle","Collapse","id","Nav","loggedIn","onClick","logout","Modal","size","onHide","Tab","defaultActiveKey","Header","closeButton","Title","Body","Item","eventKey","Content","Pane","handleModalClose","QUERY_ME","numbersWithCommas","num","toString","replace","bannerCard","headerIcon","title","text","Card","Description","BannerContainer","Segment","Grid","columns","relaxed","Column","Image","src","Divider","vertical","BannerIntro","bannerCards","faSearch","faChartBar","faCity","map","i","BannerCard","Search","searching","setSearching","validSearch","validateSearch","useQuery","loading","searchedCities","setSearchedCities","searchInput","setSearchInput","savedCityIds","setSavedCityIds","me","savedCities","cityIds","cityId","saveHomeCity","saveHomeError","saveCity","SuggestionsList","props","suggestions","onSelectSuggestion","displaySuggestions","selectedSuggestion","onKeyDown","length","suggestion","index","classname","tabIndex","faExclamationTriangle","React","filteredSuggestions","setFilteredSuggestions","setSelectedSuggestion","setDisplaySuggestions","fetch","response","ok","Error","json","cityList","cityData","_embedded","pop","population","undefined","uaScores","categories","housing","Math","round","score_out_of_10","costOfLiving","safety","healthcare","education","environmentalQuality","economy","taxation","geoname_id","regionLink","_links","href","getImageResponse","regionImage","imageLink","photos","image","web","regionName","full_name","homeCityEqualsCurrent","homeCity","city","matching_full_name","handleSaveHomeCity","cityToSave","find","region","parseInt","btn","document","getElementById","innerHTML","setAttribute","handleSaveCity","Jumbotron","style","width","Row","filter","toLowerCase","includes","onBlur","alert","light","Message","info","content","primary","stackable","alt","Statistic","Value","Progress","color","total","progress","labels","datasets","label","backgroundColor","borderColor","borderWidth","height","options","plugins","legend","display","maintainAspectRatio","scales","y","suggestedMin","suggestedMax","negative","Home","removeCityId","JSON","parse","updatedSavedCityIds","savedCityId","stringify","CityTable","cityValue","setCityValue","userData","Dropdown","e","multiple","selection","key","_id","cityInfo","city1","getCityById","Table","responsive","striped","bordered","hover","city2","item","Profile","fetchPolicy","removeCity","handleDeleteCity","Col","sm","md","Meta","split","extra","Icon","wrapped","ui","cityCount","transition","Fade","Footer","httpLink","createHttpLink","uri","authLink","setContext","_","headers","authorization","client","ApolloClient","link","concat","cache","InMemoryCache","App","ApolloProvider","NavBar","exact","path","component","render","ReactDOM"],"mappings":"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","file":"static/js/main.1a940b90.chunk.js","sourcesContent":["import { gql } from '@apollo/client';\n\n// define mutaion for login\nexport const LOGIN_USER = gql`\n  mutation login($email: String!, $password: String!) {\n    login(email: $email, password: $password) {\n      token\n      user {\n        _id\n        username\n        email\n      }\n    }\n  }\n`;\n\n\n\n\n\n\nexport const SAVE_HOME_CITY = gql`\n    mutation saveHomeCity($homeCity: cityInput!) {\n        saveHomeCity(homeCity: $homeCity) {\n            username\n            homeCity{\n              name\n              region\n              population\n            }\n            savedCities{\n              name\n            }\n            } \n    }\n  \n`\n\n\n// define mutation for adding a user\nexport const ADD_USER = gql`\n  mutation addUser($username: String!, $email: String!, $password: String!) {\n    addUser(username: $username, email: $email, password: $password) {\n      token\n      user {\n        _id\n        username\n        email\n      }\n    }\n  }\n`;\n\n// define mutation for saving a city\nexport const SAVE_CITY = gql`\n  mutation saveCity($city: cityInput) {\n    saveCity(city: $city) {\n      _id\n      username\n      savedCities {\n        cityId\n        name\n        image\n        healthcare\n        taxation\n        education\n        housing\n        costOfLiving\n        safety\n        environmentalQuality\n        economy\n        population\n        region\n      }\n    }\n  }\n`;\n\n// define mutation for removing a city\nexport const REMOVE_CITY = gql`\n  mutation removeCity($cityId: ID!) {\n    removeCity(cityId: $cityId) {\n       _id\n      username\n      savedCities {\n        cityId\n        name\n        image\n        healthcare\n        taxation\n        education\n        housing\n        costOfLiving\n        safety\n        environmentalQuality\n        economy\n        population\n        region\n      }\n    }\n  }\n`;\n","import decode from 'jwt-decode';\n\nclass AuthService {\n\n  getProfile() {\n    return decode(this.getToken());\n  }\n\n  loggedIn() {\n    const token = this.getToken();\n    return token && !this.isTokenExpired(token) ? true : false;\n  }\n\n  isTokenExpired(token) {\n    // Decode the token to get its expiration time that was set by the server\n    const decoded = decode(token);\n    // If the expiration time is less than the current time (in seconds), the token is expired and we return `true`\n    if (decoded.exp < Date.now() / 1000) {\n      localStorage.removeItem('id_token');\n      return true;\n    }\n    // If token hasn't passed its expiration time, return `false`\n    return false;\n  }\n\n  getToken() {\n    return localStorage.getItem('id_token');\n  }\n\n  login(idToken) {\n    localStorage.setItem('id_token', idToken);\n    window.location.assign('/');\n  }\n\n  logout() {\n    localStorage.removeItem('id_token');\n    window.location.assign('/');\n  }\n}\n\nexport default new AuthService();","import React, { useState, useEffect } from 'react';\nimport { Form, Button, Alert } from 'react-bootstrap';\n\nimport { useMutation } from '@apollo/client';\nimport { ADD_USER } from '../utils/mutations';\n\nimport Auth from '../utils/auth';\n\nconst SignupForm = () => {\n\n  // set initial form state\n  const [userFormData, setUserFormData] = useState({ username: '', email: '', password: '' });\n  // set state for form validation\n  const [validated] = useState(false);\n  // set state for alert\n  const [showAlert, setShowAlert] = useState(false);\n  const [addUser, { error }] = useMutation(ADD_USER);\n\n  useEffect(() => {\n    if (error) {\n      setShowAlert(true);\n    } else {\n      setShowAlert(false);\n    }\n  }, [error]);\n\n  const handleInputChange = (event) => {\n    const { name, value } = event.target;\n    setUserFormData({ ...userFormData, [name]: value });\n  };\n\n  const handleFormSubmit = async (event) => {\n    console.log(userFormData);\n    event.preventDefault();\n\n    // check if form has everything (as per react-bootstrap docs)\n    const form = event.currentTarget;\n    if (form.checkValidity() === false) {\n      event.preventDefault();\n      event.stopPropagation();\n    }\n\n    try {\n      const { data } = await addUser({\n        variables: { ...userFormData },\n      });\n\n      Auth.login(data.addUser.token);\n\n    } catch (err) {\n      console.error(err);\n      setShowAlert(true);\n    }\n\n    setUserFormData({\n      username: '',\n      email: '',\n      password: '',\n    });\n  };\n\n  return (\n    <>\n      {/* This is needed for the validation functionality above */}\n      <Form noValidate validated={validated} onSubmit={handleFormSubmit}>\n        {/* show alert if server response is bad */}\n        <Alert dismissible onClose={() => setShowAlert(false)} show={showAlert} variant='danger'>\n          Something went wrong with your signup!\n        </Alert>\n\n        <Form.Group>\n          <Form.Label htmlFor='username'>Username</Form.Label>\n          <Form.Control\n            type='text'\n            placeholder='Your username'\n            name='username'\n            onChange={handleInputChange}\n            value={userFormData.username}\n            required\n          />\n          <Form.Control.Feedback type='invalid'>Username is required!</Form.Control.Feedback>\n        </Form.Group>\n\n        <Form.Group>\n          <Form.Label htmlFor='email'>Email</Form.Label>\n          <Form.Control\n            type='email'\n            placeholder='Your email address'\n            name='email'\n            onChange={handleInputChange}\n            value={userFormData.email}\n            required\n          />\n          <Form.Control.Feedback type='invalid'>Email is required!</Form.Control.Feedback>\n        </Form.Group>\n\n        <Form.Group>\n          <Form.Label htmlFor='password'>Password</Form.Label>\n          <Form.Control\n            type='password'\n            placeholder='Your password'\n            name='password'\n            onChange={handleInputChange}\n            value={userFormData.password}\n            required\n          />\n          <Form.Control.Feedback type='invalid'>Password is required!</Form.Control.Feedback>\n        </Form.Group>\n        <Button\n          className=\"mt-10\"\n          disabled={!(userFormData.username && userFormData.email && userFormData.password)}\n          type='submit'\n          variant='success'>\n          Submit\n        </Button>\n      </Form>\n    </>\n  );\n};\n\nexport default SignupForm;\n","import React, { useState, useEffect } from 'react';\nimport { Form, Button, Alert } from 'react-bootstrap';\nimport { useMutation } from '@apollo/client';\nimport { LOGIN_USER } from '../utils/mutations';\n\nimport Auth from '../utils/auth';\n\nconst LoginForm = () => {\n  const [userFormData, setUserFormData] = useState({ email: '', password: '' });\n  const [validated] = useState(false);\n  const [showAlert, setShowAlert] = useState(false);\n  const [login, { error }] = useMutation(LOGIN_USER);\n\n  useEffect(() => {\n    if (error) {\n      setShowAlert(true);\n    } else {\n      setShowAlert(false);\n    }\n  }, [error]);\n\n  const handleInputChange = (event) => {\n    const { name, value } = event.target;\n    setUserFormData({ ...userFormData, [name]: value });\n  };\n\n  const handleFormSubmit = async (event) => {\n    event.preventDefault();\n\n    const form = event.currentTarget;\n\n    if (form.checkValidity() === false) {\n      event.preventDefault();\n      event.stopPropagation();\n    }\n\n    try {\n      const { data } = await login({\n        variables: { ...userFormData },\n      });\n\n      Auth.login(data.login.token);\n    } catch (err) {\n      console.error(err);\n      setShowAlert(true);\n    }\n\n    setUserFormData({\n      username: '',\n      email: '',\n      password: '',\n    });\n  };\n\n  return (\n    <React.Fragment>\n      <Form noValidate validated={validated} onSubmit={handleFormSubmit} className='p-3'>\n        <Alert dismissible onClose={() => setShowAlert(false)} show={showAlert} variant='danger'>\n          Error: Login credentials are incorrect.\n        </Alert>\n        <Form.Group>\n          <Form.Label htmlFor='email'>Email</Form.Label>\n          <Form.Control\n            type='text'\n            placeholder='Enter your email'\n            name='email'\n            onChange={handleInputChange}\n            value={userFormData.email}\n            required\n          />\n          <Form.Control.Feedback type='invalid'>Error: Email is required.</Form.Control.Feedback>\n        </Form.Group>\n\n        <Form.Group>\n          <Form.Label htmlFor='password'>Password</Form.Label>\n          <Form.Control\n            type='password'\n            placeholder='Enter your password'\n            name='password'\n            onChange={handleInputChange}\n            value={userFormData.password}\n            required\n          />\n          <Form.Control.Feedback type='invalid'>Error: Password is required.</Form.Control.Feedback>\n        </Form.Group>\n        <Button\n          className=\"mt-10\" disabled={!(userFormData.email && userFormData.password)}\n          type='submit'\n          variant='success'>\n          Submit\n        </Button>\n\n      </Form>\n    </React.Fragment>\n  );\n};\n\nexport default LoginForm;\n","import React, { useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport { Navbar, Nav, Container, Modal, Tab } from 'react-bootstrap';\nimport 'semantic-ui-css/semantic.min.css';\nimport SignUpForm from './SignupForm';\nimport LoginForm from './LoginForm';\nimport Auth from '../utils/auth';\nimport { faHome } from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\n\nconst AppNavbar = () => {\n    // set modal display state\n    const [showModal, setShowModal] = useState(false);\n\n    return (\n        <React.Fragment>\n            <Navbar className='navi p-1' bg='dark' variant='dark' expand='lg'>\n                <Container fluid>\n                    <Navbar.Brand as={Link} to='/'>\n                        <span className=\"mx-3 h2\">\n                            <FontAwesomeIcon className=\"home-logo\" icon={faHome} />\n                            Home City\n                        </span>\n                    </Navbar.Brand>\n                    <Navbar.Toggle aria-controls='navbar' />\n                    <Navbar.Collapse id='navbar'>\n                        <Nav className='ml-auto'>\n                            <Nav.Link as={Link} to='/'>\n                                Search Cities\n                            </Nav.Link>\n                            {/* if user is logged in show saved books and logout */}\n                            {Auth.loggedIn() ? (\n                                <>\n                                    <Nav.Link as={Link} to='/profile'>\n                                        Profile\n                                    </Nav.Link>\n                                    <Nav.Link onClick={Auth.logout} as={Link} to='/' >Logout</Nav.Link>\n                                </>\n                            ) : (\n                                <Nav.Link onClick={() => setShowModal(true)}>Login/Sign Up</Nav.Link>\n                            )}\n                        </Nav>\n                    </Navbar.Collapse>\n                </Container>\n            </Navbar>\n            {/* set modal data up */}\n            <Modal\n                size='lg'\n                show={showModal}\n                onHide={() => setShowModal(false)}\n                aria-labelledby='signup-modal'>\n                {/* tab container to do either signup or login component */}\n                <Tab.Container defaultActiveKey='login'>\n                    <Modal.Header closeButton>\n                        <Modal.Title id='signup-modal'>\n                            Login\n                        </Modal.Title>\n                    </Modal.Header>\n                    <Modal.Body>\n                        <Nav variant='pills' className=\"mb-4\">\n                            <Nav.Item>\n                                <Nav.Link eventKey='login' className=\"btn-link\">Login</Nav.Link>\n                            </Nav.Item>\n                            <Nav.Item>\n                                <Nav.Link eventKey='signup' className=\"btn-link\">Sign Up</Nav.Link>\n                            </Nav.Item>\n                        </Nav>\n                        <Tab.Content>\n                            <Tab.Pane eventKey='login'>\n                                <LoginForm handleModalClose={() => setShowModal(false)} />\n                            </Tab.Pane>\n                            <Tab.Pane eventKey='signup'>\n                                <SignUpForm handleModalClose={() => setShowModal(false)} />\n                            </Tab.Pane>\n                        </Tab.Content>\n                    </Modal.Body>\n                </Tab.Container>\n            </Modal>\n        </React.Fragment>\n    );\n};\n\nexport default AppNavbar;\n","import { gql } from '@apollo/client';\n\n// define query\nexport const QUERY_ME = gql`\n  query me {\n    me {\n      _id\n      username\n      email\n      cityCount\n      homeCity{\n        cityId\n        name\n        image\n        healthcare\n        taxation\n        education\n        housing\n        costOfLiving\n        safety\n        environmentalQuality\n        economy\n        population\n        region\n      }\n      savedCities {\n        _id\n        cityId\n        name\n        image\n        healthcare\n        taxation\n        education\n        housing\n        costOfLiving\n        safety\n        environmentalQuality\n        economy\n        population\n        region\n      }\n    }\n  }\n`;","export const numbersWithCommas = (num) => {\n    return num.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\n}","import React from 'react'\nimport { Card, Icon, Image } from 'semantic-ui-react'\n\nconst bannerCard = ({ headerIcon, title, text }) => {\n    return (\n\n\n        <Card className=\"bannerCard\" >\n\n            <Card.Content>\n                <Card.Header className=\"bannerHeader\">{title} <div className=\"bannerIcon\">{headerIcon}</div></Card.Header>\n\n                <Card.Description>\n                    {text}\n                </Card.Description>\n            </Card.Content>\n        </Card>\n\n\n        // <Card bg=\"light\" text=\"dark\" style={{ width: '18rem', margin: '10px', textAlign: \"center\" }}>\n        //     <Card.Header>\n        //         {headerIcon}\n        //         <Card.Title>{title}</Card.Title>\n        //     </Card.Header>\n        //     <Card.Body>\n        //         <Card.Text>{text}</Card.Text>\n        //     </Card.Body>\n        // </Card>\n    )\n}\n\nexport default bannerCard;\n\n","import React from 'react'\nimport { Divider, Grid, Image, Segment } from 'semantic-ui-react'\n\nconst BannerContainer = () => (\n    <Segment>\n        <Grid columns={2} relaxed='very'>\n            <Grid.Column>\n                <p>\n                    <Image src='https://react.semantic-ui.com/images/wireframe/short-paragraph.png' />\n                </p>\n                <p>\n                    <Image src='https://react.semantic-ui.com/images/wireframe/short-paragraph.png' />\n                </p>\n                <p>\n                    <Image src='https://react.semantic-ui.com/images/wireframe/short-paragraph.png' />\n                </p>\n                <p>\n                    <Image src='https://react.semantic-ui.com/images/wireframe/short-paragraph.png' />\n                </p>\n            </Grid.Column>\n            <Grid.Column>\n                <p>\n                    <Image src='https://react.semantic-ui.com/images/wireframe/short-paragraph.png' />\n                </p>\n                <p>\n                    <Image src='https://react.semantic-ui.com/images/wireframe/short-paragraph.png' />\n                </p>\n                <p>\n                    <Image src='https://react.semantic-ui.com/images/wireframe/short-paragraph.png' />\n                </p>\n                <p>\n                    <Image src='https://react.semantic-ui.com/images/wireframe/short-paragraph.png' />\n                </p>\n            </Grid.Column>\n        </Grid>\n\n        <Divider vertical>And</Divider>\n    </Segment>\n)\n\nexport default BannerContainer","import { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faChartBar, faCity, faSearch } from \"@fortawesome/free-solid-svg-icons\";\nimport BannerCard from \"./BannerCard\";\nimport BannerContainer from \"./BannerContainer\";\nimport { Container } from 'react-bootstrap';\nconst BannerIntro = () => {\n  let bannerCards = [\n    {\n      headerIcon: <FontAwesomeIcon icon={faSearch} size=\"3x\" className=\".fa-gradient\" />,\n      title: \"Search\",\n      text: \"Your search reports life-quality scores for US cities, across various categories based on a 10-point scoring system.\"\n    },\n    {\n      headerIcon: <FontAwesomeIcon icon={faChartBar} size=\"3x\" />,\n      title: \"Analyze\",\n      text: \" View your saved city population statistics and quality of life to get an accurate and better view of your potential new home.  \"\n\n    },\n    {\n      headerIcon: <FontAwesomeIcon icon={faCity} size=\"3x\" />,\n      title: \"Compare\",\n      text: \" A decision making tool to visually compare each cities cost of living side by side to help find a place called Home.\"\n\n    }\n  ];\n\n  return (\n    <>\n      <Container >\n        <div id=\"education-cards\" className=\"row my-5 justify-content-between p-5\">\n          {bannerCards.map((bannerCard, i) => <BannerCard key={i} {...bannerCard} />)}\n        </div>\n      </Container>\n      <Container>\n        <BannerContainer />\n      </Container>\n    </>\n  )\n}\n\nexport default BannerIntro;","import React, { useState, useEffect } from 'react';\nimport { searchCityData, searchBlank } from '../utils/API';\nimport { useMutation, useQuery } from '@apollo/client';\nimport { SAVE_CITY, SAVE_HOME_CITY } from '../utils/mutations';\nimport { QUERY_ME } from '../utils/queries';\nimport { numbersWithCommas } from '../utils/helpers'\nimport { Jumbotron, Form } from 'react-bootstrap';\nimport Auth from '../utils/auth';\nimport { Bar } from 'react-chartjs-2';\nimport { faSearch, faExclamationTriangle } from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport AutoSearch from '../components/AutoSearch';\nimport { Container, Button, Grid, Message, Statistic, Progress } from 'semantic-ui-react';\nimport CityNames from '../utils/Cities';\nimport BannerIntro from \"../components/BannerIntro\";\n\n\n\n\n\nconst Search = () => {\n  const [searching, setSearching] = useState(false);\n  const [validSearch, validateSearch] = useState(true);\n  const { loading, error, data } = useQuery(QUERY_ME, {});\n  console.log(error);\n  console.log(data);\n\n  const [searchedCities, setSearchedCities] = useState([]);\n  // create state for holding our search field data\n  const [searchInput, setSearchInput] = useState('');\n\n  const [savedCityIds, setSavedCityIds] = useState([]);\n\n  // set up useEffect hook to save `savedCityIds` list to localStorage on component unmount\n  useEffect(() => {\n    if (!loading && data?.me?.savedCities) {\n      const cityIds = data.me.savedCities.map(({ cityId }) => cityId)\n      //console.log(\"saved city ids from db --- \", cityIds)\n      setSavedCityIds(cityIds)\n    }\n  }, [loading]);\n\n  // set mutation for saving City\n\n\n  const [saveHomeCity, { saveHomeError }] = useMutation(SAVE_HOME_CITY);\n\n  const [saveCity] = useMutation(SAVE_CITY\n  );\n\n  const SuggestionsList = props => {\n    const {\n      suggestions,\n      searchInput,\n      onSelectSuggestion,\n      displaySuggestions,\n      selectedSuggestion,\n      onKeyDown\n\n    } = props;\n\n    if (searchInput && displaySuggestions) {\n      if (suggestions.length > 0) {\n        return (\n\n          <ul className=\"suggestions-list\">\n            {suggestions.map((suggestion, index) => {\n              const isSelected = selectedSuggestion === index;\n              const classname = `suggestion ${isSelected ? \"selected\" : \"\"}`;\n\n              return (\n                <li\n                  tabIndex={0}\n                  key={index}\n                  className={classname}\n                  onClick={() => onSelectSuggestion(index)}\n                  onKeyDown={onKeyDown}\n\n                >\n                  {suggestion}\n                </li>\n\n              );\n            })}\n          </ul>\n        );\n      } else {\n        return <div className=\"no-suggestions\"> <FontAwesomeIcon icon={faExclamationTriangle} />&nbsp;&nbsp;No suggestions available</div>;\n      }\n    }\n    return <></>;\n  };\n\n\n  const [filteredSuggestions, setFilteredSuggestions] = React.useState([]);\n  const [selectedSuggestion, setSelectedSuggestion] = React.useState(0);\n  const [displaySuggestions, setDisplaySuggestions] = React.useState(false);\n\n\n  const suggestions = CityNames();\n\n  const onChange = event => {\n    const value = event.target.value;\n    setSearchInput(value);\n\n    const filteredSuggestions = suggestions.filter(suggestion =>\n      suggestion.toLowerCase().includes(value.toLowerCase())\n    );\n\n    setFilteredSuggestions(filteredSuggestions);\n    setDisplaySuggestions(true);\n\n  };\n\n  const onSelectSuggestion = index => {\n    setSelectedSuggestion(index);\n    setSearchInput(filteredSuggestions[index]);\n    setFilteredSuggestions([]);\n    setDisplaySuggestions(false);\n\n\n  };\n\n\n\n\n\n  // create method to search for city and set state on form submit\n  const handleFormSubmit = async (event) => {\n    event.preventDefault();\n\n    if (!searchInput) {\n      return false;\n    }\n\n    try {\n      // perform API call to teleport\n      const response = await searchCityData(searchInput);\n\n\n      if (!response.ok) {\n        throw new Error('something went wrong!');\n      }\n\n      // get returned data store to variable to pass into the useState hook\n      const cityList = await response.json();\n      const cityData = cityList._embedded['city:search-results'];\n      console.log(cityData);\n      // storing the population data as it also lives in an embedded directory\n      const pop = cityData[0]._embedded[\"city:item\"].population;\n      cityData[0]['population'] = numbersWithCommas(pop);\n\n\n      if (cityData[0]._embedded[\"city:item\"]._embedded === undefined) {\n        validateSearch(false);\n        setSearchInput('');\n      } else {\n        // store the category data into an array\n        const uaScores = cityData[0]._embedded[\"city:item\"]._embedded[\"city:urban_area\"]._embedded[\"ua:scores\"].categories;\n        cityData[0].housing = Math.round(uaScores[0].score_out_of_10);\n        cityData[0].costOfLiving = Math.round(uaScores[1].score_out_of_10);\n        cityData[0].safety = Math.round(uaScores[7].score_out_of_10);\n        cityData[0].healthcare = Math.round(uaScores[8].score_out_of_10);\n        cityData[0].education = Math.round(uaScores[9].score_out_of_10);\n        cityData[0].environmentalQuality = Math.round(uaScores[10].score_out_of_10);\n        cityData[0].economy = Math.round(uaScores[11].score_out_of_10);\n        cityData[0].taxation = Math.round(uaScores[12].score_out_of_10);\n        cityData[0].cityId = cityData[0]._embedded[\"city:item\"].geoname_id;\n        // store the link for the image in a variable \n        const regionLink = cityData[0]._embedded[\"city:item\"]._embedded[\"city:urban_area\"]._links[\"ua:images\"].href;\n        // API call to retrieve the image link\n        const getImageResponse = await searchBlank(regionLink);\n        if (!getImageResponse.ok) {\n          throw new Error('something went wrong!');\n        }\n        const regionImage = await getImageResponse.json();\n        // get the image link and store the string value in the cityData object \n        const imageLink = regionImage.photos[0].image.web;\n        cityData[0]['image'] = imageLink;\n\n\n\n        const regionName = cityData[0]._embedded[\"city:item\"]._embedded[\"city:urban_area\"].full_name;\n        cityData[0]['region'] = regionName;\n\n        validateSearch(true);\n        setSearching(true);\n        // Update the hook and empty the search field\n        setSearchedCities(cityData);\n        // setSearchedChart(cityData);\n        setSearchInput('');\n\n\n      }\n\n\n\n    } catch (err) {\n      console.error(err);\n    }\n  };\n  const homeCityEqualsCurrent = (homeCity, city) => {\n    //checks if current search result is saved as the users home city\n    if (homeCity === null) {\n      return false;\n    }\n    else {\n      //console.log('home city', homeCity);\n      //console.log('city',city);\n      if (homeCity.name === city.matching_full_name) {\n        return true;\n      } else {\n        return false;\n      }\n    }\n  }\n  const handleSaveHomeCity = async (cityId) => {\n    const cityToSave = searchedCities.find((city) => city.cityId === cityId);\n    //console.log('setting as home city', cityToSave);\n    const token = Auth.loggedIn() ? Auth.getToken() : null;\n    if (!token) {\n      return false;\n    }\n    try {\n      const cityData = {\n        cityId: cityToSave._embedded[\"city:item\"].geoname_id,\n        name: cityToSave.matching_full_name,\n        healthcare: cityToSave.healthcare,\n        taxation: cityToSave.taxation,\n        education: cityToSave.education,\n        costOfLiving: cityToSave.costOfLiving,\n        housing: cityToSave.housing,\n        safety: cityToSave.safety,\n        environmentalQuality: cityToSave.environmentalQuality,\n        economy: cityToSave.economy,\n        image: cityToSave.image,\n        region: cityToSave.region,\n        population: parseInt(cityToSave.population.replace(/,/g, ''), 10)\n      }\n      console.log(cityData);\n      const response = await saveHomeCity({\n        variables: { homeCity: cityData },\n      });\n      console.log('save home error', saveHomeError);\n      if (!response.data) {\n        throw new Error('something went wrong!');\n      }\n      const btn = document.getElementById('saveHomeCityBtn')\n      btn.innerHTML = 'City is your Home City';\n      btn.setAttribute('disabled', true);\n    } catch (err) {\n      console.error(err);\n    }\n  }\n\n  const handleSaveCity = async (cityId) => {\n\n    // find the city in `searchedcities` state by the matching id\n    const cityToSave = searchedCities.find((city) => city.cityId === cityId);\n\n    // get token\n    const token = Auth.loggedIn() ? Auth.getToken() : null;\n\n    if (!token) {\n      return false;\n    }\n\n    // save city\n    try {\n      console.log(cityToSave);\n      const cityData = {\n        cityId: cityToSave._embedded[\"city:item\"].geoname_id,\n        name: cityToSave.matching_full_name,\n        healthcare: cityToSave.healthcare,\n        taxation: cityToSave.taxation,\n        education: cityToSave.education,\n        costOfLiving: cityToSave.costOfLiving,\n        housing: cityToSave.housing,\n        safety: cityToSave.safety,\n        environmentalQuality: cityToSave.environmentalQuality,\n        economy: cityToSave.economy,\n        image: cityToSave.image,\n        region: cityToSave.region,\n\n        //change population(which has commas) into an integer\n        population: parseInt(cityToSave.population.replace(/,/g, ''), 10)\n\n      }\n\n      const response = await saveCity({\n        variables: { city: cityData },\n      });\n      console.log(saveCity);\n\n\n      if (!response.data) {\n        throw new Error('something went wrong!');\n      }\n\n      setSavedCityIds([...savedCityIds, cityData.cityId]);\n      const btn = document.getElementById('saveCityBtn')\n      btn.innerHTML = 'This city has already been saved!';\n      btn.setAttribute('disabled', true);\n    } catch (err) {\n      console.error(err);\n    }\n  };\n\n\n\n  return (\n    <>\n\n      <Jumbotron fluid className='text-light jumboGrad home-search'>\n\n\n        <Container\n          // onClick={() => setDisplaySuggestions(false)}\n          style={{ width: '70rem' }} className='p-5 jumbo'>\n\n          <Form className='p-5' onSubmit={handleFormSubmit}>\n            <h1 className=\"text-center font-normal\">Search for your future <span className=\"home-city\">home city</span></h1>\n\n            <Form.Row >\n              <Form.Label className=\"text-left display-block\">City, State </Form.Label>\n              <div className=\"input-group\">\n                <Form.Control\n\n                  size=\"lg\"\n                  className=\"user-input form-control-large\"\n                  type=\"text\"\n                  onChange={onChange}\n                  value={searchInput}\n                  placeholder='Enter city name'\n                />\n                <SuggestionsList\n                  onBlur={() => (alert(\"blur\"), setDisplaySuggestions(false))}\n\n                  searchInput={searchInput}\n                  selectedSuggestion={selectedSuggestion}\n                  onSelectSuggestion={onSelectSuggestion}\n                  displaySuggestions={displaySuggestions}\n                  suggestions={filteredSuggestions}\n                />\n\n\n                <Button light=\"true\" type='submit'>\n                  <FontAwesomeIcon icon={faSearch} /><span>&nbsp;&nbsp;Search</span>\n                </Button>\n              </div>\n            </Form.Row></Form>\n        </Container>\n\n      </Jumbotron>\n\n\n      <Container className='p-5'>\n\n        {validSearch ? (searchedCities.map(city => {\n          //console.log(city);\n\n          //disabled save city button if logged in and search result is already saved\n\n          return <div key={city.matching_full_name}>\n\n\n\n            <div className=\"header-row\">\n              <div>\n                <h2>\n                  {city.matching_full_name}\n                </h2>\n                <h3>\n                  Region {city.region}\n                </h3>\n              </div>\n              {Auth.loggedIn() ? (<div></div>) :\n                (\n                  <div className=\"sign-info\">\n                    <Message\n                      info\n                      content=\"Sign up or login using the link in the header for the ability to create a profile page and save cities to compare.\"\n                    />\n                  </div>\n                )\n              }\n              <div className=\"mb-4\">\n                {\n\n                  Auth.loggedIn() &&\n                  <Button primary\n                    disabled={savedCityIds.includes(city.cityId + '') || savedCityIds.includes(city.cityId)}\n                    className='btn-block btn-info'\n                    id=\"saveCityBtn\"\n                    onClick={() => handleSaveCity(city.cityId)}>\n                    {savedCityIds.includes(city.cityId + '') || savedCityIds.includes(city.cityId)\n                      ? 'City has been saved'\n                      : 'Save this City'}\n                  </Button>\n\n\n                }\n\n\n                {\n                  (Auth.loggedIn() && !loading && error === undefined) &&\n                  <Button disabled={homeCityEqualsCurrent(data.me.homeCity, city)}\n                    id=\"saveHomeCityBtn\"\n                    primary onClick={() => handleSaveHomeCity(city.cityId)}>\n                    {homeCityEqualsCurrent(data.me.homeCity, city)\n                      ? 'City is your Home City'\n                      : 'Set as Home City'\n                    }\n                  </Button>\n\n                }\n              </div>\n            </div>\n            <Grid className=\"mb-4 mt-4 body-row\" stackable columns={2}>\n              <Grid.Column className=\"image-cropper\">\n                <img src={city.image} className=\"city-pic\" alt=\"img not found\"></img>\n                <Statistic size='small'>\n                  <Statistic.Label>Population</Statistic.Label>\n                  <Statistic.Value>{city.population}</Statistic.Value>\n                </Statistic>\n              </Grid.Column>\n              <Grid.Column>\n\n                <div className=\"stats\">\n                  <span className=\"bold\">Healthcare </span>\n                  <Progress size='small' color='red' value={city.healthcare} total='10' progress='ratio' />\n                </div>\n                <div className=\"stats\">\n                  <span className=\"bold\">Taxation </span>\n                  <Progress size='small' color='blue' value={city.taxation} total='10' progress='ratio' />\n                </div>\n\n                <div className=\"stats\">\n                  <span className=\"bold\">Education </span>\n                  <Progress size='small' color='purple' value={city.education} total='10' progress='ratio' />\n                </div>\n\n                <div className=\"stats\">\n                  <span className=\"bold\">Housing </span>\n                  <Progress size='small' color='yellow' value={city.housing} total='10' progress='ratio' />\n                </div>\n\n                <div className=\"stats\">\n                  <span className=\"bold\">Cost of Living </span>\n                  <Progress size='small' color='teal' value={city.costOfLiving} total='10' progress='ratio' />\n                </div>\n\n                <div className=\"stats\">\n                  <span className=\"bold\">Safety </span>\n                  <Progress size='small' color='orange' value={city.safety} total='10' progress='ratio' />\n                </div>\n\n                <div className=\"stats\">\n                  <span className=\"bold\">Environmental Quality </span>\n                  <Progress size='small' color='violet' value={city.environmentalQuality} total='10' progress='ratio' />\n                </div>\n\n                <div className=\"stats\">\n                  <span className=\"bold\">Economy </span>\n                  <Progress size='small' color='green' value={city.economy} total='10' progress='ratio' />\n                </div>\n\n\n              </Grid.Column>\n            </Grid>\n\n\n            <Container className=\"mt-4 mb-4\">\n              <div className=\"mt-4\">\n                <Bar\n                  data={{\n                    labels: ['Healthcare', 'Taxation', 'Education', 'Housing', 'Living', 'Safety', 'Environment', 'Economy'],\n                    datasets: [\n                      {\n                        label: 'Score',\n\n                        data: [`${city.healthcare}`, `${city.taxation}`, `${city.education}`, `${city.housing}`, `${city.costOfLiving}`, `${city.safety}`, `${city.environmentalQuality}`, `${city.economy}`],\n\n                        backgroundColor: [\n                          'rgba(255, 99, 132, 0.2)',\n                          'rgba(54, 162, 235, 0.2)',\n                          'rgba(255, 206, 86, 0.2)',\n                          'rgba(75, 192, 192, 0.2)',\n                          'rgba(153, 102, 255, 0.2)',\n                          'rgba(255, 159, 64, 0.2)'\n                        ],\n                        borderColor: [\n                          'rgba(255, 99, 132, 1)',\n                          'rgba(54, 162, 235, 1)',\n                          'rgba(255, 206, 86, 1)',\n                          'rgba(75, 192, 192, 1)',\n                          'rgba(153, 102, 255, 1)',\n                          'rgba(255, 159, 64, 1)'\n                        ],\n                        borderWidth: 1\n                      }]\n\n                  }}\n                  height={400}\n                  width={500}\n                  options={{\n                    plugins: {\n\n                      legend: {\n                        display: false\n                      }\n                    },\n                    maintainAspectRatio: false,\n                    scales: {\n                      y: {\n                        suggestedMin: 0,\n                        suggestedMax: 10\n                      }\n                    }\n                  }}\n                />\n              </div>\n\n\n            </Container>\n          </div>\n        })) : (\n          <Message negative>\n            <Message.Header>No cities found</Message.Header>\n            <p>Try searching for a different city.</p>\n          </Message>\n        )}\n\n      </Container>\n\n      {!searching && <BannerIntro />}\n    </>\n  );\n};\n\nexport default Search;\n","export default function CityNames() {\n    return [\n        \"New York, New York\",\n        \"Los Angeles, California\",\n        \"Chicago, Illinois\",\n        \"Houston, Texas\",\n        \"Phoenix, Arizona\",\n        \"Philadelphia, Pennsylvania\",\n        \"San Antonio, Texas\",\n        \"San Diego, California\",\n        \"Dallas, Texas\",\n        \"San Jose, California\",\n        \"Austin, Texas\",\n        \"Jacksonville, Florida\",\n        \"Fort Worth, Texas\",\n        \"Columbus, Ohio\",\n        \"Charlotte, North Carolina\",\n        \"San Francisco, California\",\n        \"Indianapolis, Indiana\",\n        \"Seattle, Washington\",\n        \"Denver, Colorado\",\n        \"Washington, DC\",\n        \"Boston, Massachusetts\",\n        \"El Paso, Texas\",\n        \"Nashville-Davidson, Tennessee\",\n        \"Detroit, Michigan\",\n        \"Oklahoma City, Oklahoma\",\n        \"Portland, Oregon\",\n        \"Las Vegas, Nevada\",\n        \"Memphis, Tennessee\",\n        \"Louisville-Jefferson County, Kentucky\",\n        \"Baltimore, Maryland\",\n        \"Milwaukee, Wisconsin\",\n        \"Albuquerque, N.M.\",\n        \"Tucson, Arizona\",\n        \"Fresno, California\",\n        \"Mesa, Arizona\",\n        \"Sacramento, California\",\n        \"Atlanta, Georgia\",\n        \"Kansas City, Missouri\",\n        \"Colorado Springs, Colorado\",\n        \"Omaha, Nebraska\",\n        \"Raleigh, North Carolina\",\n        \"Miami, Florida\",\n        \"Long Beach, California\",\n        \"Virginia Beach, Virginia\",\n        \"Oakland, California\",\n        \"Minneapolis, Minnesota\",\n        \"Tulsa, Oklahoma\",\n        \"Tampa, Florida\",\n        \"Arlington, Texas\",\n        \"New Orleans, Louisiana\",\n\n    ]\n}","export const searchCityData = (query) => {\n  return fetch(`https://api.teleport.org/api/cities/?search=${query}&limit=1&embed=city%3Asearch-results%2Fcity%3Aitem%2Fcity%3Aurban_area%2Fua%3Ascores`);\n};\n\nexport const searchBlank = (link) => {\n  return fetch(`${link}`);\n};","import Search from \"./Search\"\nimport BannerIntro from \"../components/BannerIntro\"\n\nconst Home = () => {\n    return (\n        <>\n            <Search />\n            {/*<BannerIntro />*/}\n        </>\n    )\n}\n\nexport default Home;","export const getSavedCityIds = () => {\n  const savedCityIds = localStorage.getItem('saved_cities')\n    ? JSON.parse(localStorage.getItem('saved_cities'))\n    : [];\n\n  return savedCityIds;\n};\n\nexport const saveCityIds = (cityIdArr) => {\n  if (cityIdArr.length) {\n    localStorage.setItem('saved_cities', JSON.stringify(cityIdArr));\n  } else {\n    localStorage.removeItem('saved_cities');\n  }\n};\n\nexport const removeCityId = (cityId) => {\n  const savedCityIds = localStorage.getItem('saved_cities')\n    ? JSON.parse(localStorage.getItem('saved_cities'))\n    : null;\n\n  if (!savedCityIds) {\n    return false;\n  }\n\n  const updatedSavedCityIds = savedCityIds?.filter((savedCityId) => savedCityId !== cityId);\n  localStorage.setItem('saved_cities', JSON.stringify(updatedSavedCityIds));\n\n  return true;\n};\n","import React from 'react';\nimport { Container, Table } from 'react-bootstrap';\nimport { Dropdown } from 'semantic-ui-react';\nimport { useState } from 'react';\nimport { useQuery } from '@apollo/client';\nimport { QUERY_ME } from '../utils/queries';\nimport { numbersWithCommas } from '../utils/helpers'\n\nconst CityTable = () => {\n\n    const [cityValue, setCityValue] = useState([]);\n\n    const handleChange = (e, { value }) => {\n        setCityValue(value);\n    }\n\n    const { loading, data } = useQuery(QUERY_ME);\n    const userData = data?.me || [];\n    // if data isn't here yet, say so\n    if (loading) {\n        return <h2>LOADING...</h2>;\n    }\n\n    return (\n\n        <Container>\n\n            <h3>\n                {userData.savedCities?.length > 1\n                    ? `Select 2 cities to compare. You have ${userData.savedCities.length} ${userData.savedCities.length === 1 ? 'city' : 'cities'} saved.`\n                    : 'You need at least 2 saved cities to compare.'}\n            </h3>\n\n            <Dropdown className=\"mb-10\" placeholder='Saved City' onChange={handleChange} fluid multiple selection options={\n                userData.savedCities?.map((city) => {\n                    return {\n                        key: city._id,\n                        value: city._id,\n                        text: city.region,\n                        disabled: cityValue.length > 1 ? true : false\n                    }\n                })\n            } />\n\n            {cityValue?.map((cityInfo, index) => {\n                if (cityValue.length === 1) {\n                    const city1 = getCityById(cityValue[0]);\n\n                    city1.population = numbersWithCommas(city1[0].population);\n                    city1.healthcare = Math.round(city1[0].healthcare);\n                    city1.taxation = Math.round(city1[0].taxation);\n                    city1.education = Math.round(city1[0].education);\n                    city1.housing = Math.round(city1[0].housing);\n                    city1.costOfLiving = Math.round(city1[0].costOfLiving);\n                    city1.safety = Math.round(city1[0].safety);\n                    city1.environmentalQuality = Math.round(city1[0].environmentalQuality);\n                    city1.economy = Math.round(city1[0].economy);\n\n                    return (\n                        <Table responsive key={city1[0]._id} striped bordered hover>\n                            <thead>\n                                <tr>\n                                    <th>City</th>\n                                    <th>{city1[0].region}</th>\n                                </tr>\n                            </thead>\n                            <tbody>\n                                <tr>\n                                    <td>Population</td>\n                                    <td>{city1.population}</td>\n                                </tr>\n                                <tr>\n                                    <td>Healthcare</td>\n                                    <td>{city1.healthcare}</td>\n                                </tr>\n                                <tr>\n                                    <td>Taxation</td>\n                                    <td>{city1.taxation}</td>\n                                </tr>\n                                <tr>\n                                    <td>Education</td>\n                                    <td>{city1.education}</td>\n                                </tr>\n                                <tr>\n                                    <td>Housing</td>\n                                    <td>{city1.housing}</td>\n                                </tr>\n                                <tr>\n                                    <td>Living</td>\n                                    <td>{city1.costOfLiving}</td>\n                                </tr>\n                                <tr>\n                                    <td>Safety</td>\n                                    <td>{city1.safety}</td>\n                                </tr>\n                                <tr>\n                                    <td>Environment</td>\n                                    <td>{city1.environmentalQuality}</td>\n                                </tr>\n                                <tr>\n                                    <td>Economy</td>\n                                    <td>{city1.economy}</td>\n                                </tr>\n                            </tbody>\n                        </Table>\n                    )\n\n                } else if (cityValue.length === 2) {\n                    const city1 = getCityById(cityValue[0]);\n                    const city2 = getCityById(cityValue[1]);\n\n                    city1.population = numbersWithCommas(city1[0].population);\n                    city2.population = numbersWithCommas(city2[0].population);\n\n                    city1.population = numbersWithCommas(city1[0].population);\n                    city1.healthcare = Math.round(city1[0].healthcare);\n                    city1.taxation = Math.round(city1[0].taxation);\n                    city1.education = Math.round(city1[0].education);\n                    city1.housing = Math.round(city1[0].housing);\n                    city1.costOfLiving = Math.round(city1[0].costOfLiving);\n                    city1.safety = Math.round(city1[0].safety);\n                    city1.environmentalQuality = Math.round(city1[0].environmentalQuality);\n                    city1.economy = Math.round(city1[0].economy);\n\n                    city2.population = numbersWithCommas(city2[0].population);\n                    city2.healthcare = Math.round(city2[0].healthcare);\n                    city2.taxation = Math.round(city2[0].taxation);\n                    city2.education = Math.round(city2[0].education);\n                    city2.housing = Math.round(city2[0].housing);\n                    city2.costOfLiving = Math.round(city2[0].costOfLiving);\n                    city2.safety = Math.round(city2[0].safety);\n                    city2.environmentalQuality = Math.round(city2[0].environmentalQuality);\n                    city2.economy = Math.round(city2[0].economy);\n                    if (index === 1) {\n                        return (\n                            <Table responsive key={city1[0]._id} striped bordered hover >\n                                <thead>\n                                    <tr>\n                                        <th>City</th>\n                                        <th>{city1[0].name}</th>\n                                        <th>{city2[0].name}</th>\n                                    </tr>\n                                </thead>\n                                <tbody>\n                                    <tr>\n                                        <td>Population</td>\n                                        <td>{city1.population}</td>\n                                        <td>{city2.population}</td>\n                                    </tr>\n                                    <tr>\n                                        <td>Healthcare</td>\n                                        <td>{city1.healthcare}</td>\n                                        <td>{city2.healthcare}</td>\n                                    </tr>\n                                    <tr>\n                                        <td>Taxation</td>\n                                        <td>{city1.taxation}</td>\n                                        <td>{city2.taxation}</td>\n                                    </tr>\n                                    <tr>\n                                        <td>Education</td>\n                                        <td>{city1.education}</td>\n                                        <td>{city2.education}</td>\n                                    </tr>\n                                    <tr>\n                                        <td>Housing</td>\n                                        <td>{city1.housing}</td>\n                                        <td>{city2.housing}</td>\n                                    </tr>\n                                    <tr>\n                                        <td>Living</td>\n                                        <td>{city1.costOfLiving}</td>\n                                        <td>{city2.costOfLiving}</td>\n                                    </tr>\n                                    <tr>\n                                        <td>Safety</td>\n                                        <td>{city1.safety}</td>\n                                        <td>{city2.safety}</td>\n                                    </tr>\n                                    <tr>\n                                        <td>Environment</td>\n                                        <td>{city1.environmentalQuality}</td>\n                                        <td>{city2.environmentalQuality}</td>\n                                    </tr>\n                                    <tr>\n                                        <td>Economy</td>\n                                        <td>{city1.economy}</td>\n                                        <td>{city2.economy}</td>\n                                    </tr>\n                                </tbody>\n                            </Table>\n                        )\n                    }\n\n                } else {\n                    return;\n                }\n\n                function getCityById(cityInfo) {\n                    return (userData.savedCities?.filter(item => {\n                        return item._id === cityInfo;\n                    }))\n                };\n\n            })}\n\n        </Container>\n\n    )\n}\n\n\nexport default CityTable","import React from 'react';\nimport { Jumbotron, Container, Button, Col, Row, Nav, Tab, Fade } from 'react-bootstrap';\nimport { useQuery, useMutation } from '@apollo/client';\nimport { QUERY_ME } from '../utils/queries';\nimport { REMOVE_CITY } from '../utils/mutations';\nimport { removeCityId } from '../utils/localStorage';\nimport Auth from '../utils/auth';\nimport { Bar } from 'react-chartjs-2'\nimport CityTable from '../components/Table';\nimport 'semantic-ui-css/semantic.min.css';\nimport { Card, Icon, Image, Statistic, Message } from 'semantic-ui-react'\nimport { Link } from 'react-router-dom';\nimport { numbersWithCommas } from '../utils/helpers'\nimport city from \"../assets/images/city.jpg\";\n\n\nconst Profile = () => {\n\n\n  const { loading, data } = useQuery(QUERY_ME, { fetchPolicy: 'network-only' });\n  console.log(data);\n  const [removeCity] = useMutation(REMOVE_CITY);\n\n  const userData = data?.me || {};\n  console.log(userData);\n\n  if (!userData?.username) {\n    return (\n      <div className=\"p-5\">\n        <Message negative>\n          <Message.Header>Additional privileges needed in order to view this page</Message.Header>\n          <p>You must to be logged in to view this page. Use navigation links above to\n            sign up or log in.</p>\n        </Message>\n      </div>\n    );\n  }\n\n\n\n  // create function that accepts the city's mongo _id value as param and deletes the book from the database\n  const handleDeleteCity = async (cityId) => {\n    const token = Auth.loggedIn() ? Auth.getToken() : null;\n\n    if (!token) {\n      return false;\n    }\n\n    // remove city\n    try {\n      const response = await removeCity({\n        variables: { cityId },\n      });\n\n      if (!response.data) {\n        throw new Error('something went wrong!');\n      }\n      // upon success, remove city's id from localStorage\n      removeCityId(cityId);\n    } catch (err) {\n      console.error(err);\n    }\n  };\n  // if data isn't here yet, say so\n  if (loading) {\n    return <h2>LOADING...</h2>;\n  }\n\n  return (\n    <>\n\n      <Jumbotron fluid className=\"m-3\">\n        <Row>\n\n          <Col className=\"mb-2 mt-3 about-me\" sm={12} md={5}>\n            <Container>\n              <Card fluid>\n                <Card.Content className=\"text-left\">\n                  <Card.Header className=\"mb-2\"><h1>{data.me.username}</h1></Card.Header>\n                  <Card.Meta className=\"mb-3\">{data.me.email}</Card.Meta>\n                  <Card.Meta className=\"mb-3\">{data.me.homeCity &&\n                    <h3>{data.me.username} is currently living in {data.me.homeCity.name.split(',')[0]}.</h3>}</Card.Meta>\n                  {/* <Card.Description className=\"text-left\">\n                    {data.me.homeCity &&\n                      <h3>{data.me.username} is currently living in {data.me.homeCity.name.split(',')[0]}.</h3>}\n\n                  </Card.Description> */}\n\n                </Card.Content>\n                <Card.Content extra>\n                  <div className=\"display-flex align-center \">\n                    <Icon disabled name='building' size='large' />\n                    <span>{data.me.savedCities.length}&nbsp;\n                      {data.me.savedCities.length === 1 ? 'city' : 'cities'} saved</span>\n                  </div>\n                </Card.Content>\n                {\n                  data.me.homeCity &&\n                  <Card.Content extra>\n                    <div className=\"display-flex align-center mb-4\">\n                      <Icon disabled name='home' size='large' />\n                      <span>{data.me.homeCity.name}</span>\n                    </div>\n                  </Card.Content>\n                }\n\n              </Card>\n              {\n                data.me.homeCity\n                  ? <Card fluid className=\"mb-4\">\n                    <Image src={data.me.homeCity.image} wrapped ui={false} />\n                    <Card.Content>\n                      <Card.Meta className=\"mb-2\">Home City</Card.Meta>\n                      <Card.Header className=\"mb-4\">{data.me.homeCity.region}</Card.Header>\n\n                      <Card.Description >\n                        <Statistic size=\"tiny\">\n                          <Statistic.Label >Population</Statistic.Label>\n                          <Statistic.Value className=\"population mb-3\">{numbersWithCommas(data.me.homeCity.population)}</Statistic.Value>\n                        </Statistic>\n                      </Card.Description>\n                      {<Bar\n                        data={{\n                          labels: ['Healthcare', 'Taxation', 'Education', 'Housing', 'Living', 'Safety', 'Environment', 'Economy'],\n                          datasets: [\n                            {\n                              label: 'Score',\n                              data: [`${data.me.homeCity.healthcare}`, `${data.me.homeCity.taxation}`, `${data.me.homeCity.education}`, `${data.me.homeCity.housing}`, `${data.me.homeCity.costOfLiving}`, `${data.me.homeCity.safety}`, `${data.me.homeCity.environmentalQuality}`, `${data.me.homeCity.economy}`],\n\n                              backgroundColor: [\n                                'rgba(255, 99, 132, 0.2)',\n                                'rgba(54, 162, 235, 0.2)',\n                                'rgba(255, 206, 86, 0.2)',\n                                'rgba(75, 192, 192, 0.2)',\n                                'rgba(153, 102, 255, 0.2)',\n                                'rgba(255, 159, 64, 0.2)'\n                              ],\n                              borderColor: [\n                                'rgba(255, 99, 132, 1)',\n                                'rgba(54, 162, 235, 1)',\n                                'rgba(255, 206, 86, 1)',\n                                'rgba(75, 192, 192, 1)',\n                                'rgba(153, 102, 255, 1)',\n                                'rgba(255, 159, 64, 1)'\n                              ],\n                              borderWidth: 1\n                            }]\n                        }}\n                        height={70}\n                        width={200}\n                        options={\n                          {\n                            plugins: {\n                              legend: {\n                                display: false\n                              }\n                            },\n                            responsive: true,\n                            maintainAspectRatio: true,\n                            scales: {\n                              y: {\n                                suggestedMin: 0,\n                                suggestedMax: 5\n                              }\n                            }\n                          }}\n                      />}\n                    </Card.Content>\n\n                  </Card>\n                  : <Link to=\"/\"><Button variant=\"danger\">Search for your home city</Button></Link>\n              }\n\n            </Container>\n\n          </Col>\n          <Col sm={12} md={7} className=\"mt-3\">\n            <Container className=\"scores\">\n              <h2> City Compare</h2>\n              <CityTable />\n            </Container>\n            <Container className=\"data\"> <h2>\n              {userData.cityCount > 0 ? `Your ${userData.cityCount} Saved Cities!` : 'You have 0 saved cities.'} </h2> </Container>\n\n            <Container className=\"scores\">\n              <Tab.Container className=\"\" sm={12} id=\"left-tabs-example\" >\n                <Row >\n                  <Col sm={12}>\n                    <Tab.Content>\n                      {userData.savedCities.map((city) => {\n                        return (\n                          <Tab.Pane eventKey={city.cityId} transition={Fade}>\n                            <Row className=\"CityChartName\">\n                              <h3>{city.name}\n                                <Button variant=\"outline-danger delete\" size=\"sm\" onClick={() => handleDeleteCity(city.cityId)}>\n                                  Delete city\n                                </Button></h3>\n\n                            </Row>\n                            {<Bar className=\"mb-3\"\n                              data={{\n                                labels: ['Healthcare', 'Taxation', 'Education', 'Housing', 'Living', 'Safety', 'Environment', 'Economy'],\n                                datasets: [\n                                  {\n                                    label: 'Score',\n                                    data: [`${city.healthcare}`, `${city.taxation}`, `${city.education}`, `${city.housing}`, `${city.costOfLiving}`, `${city.safety}`, `${city.environmentalQuality}`, `${city.economy}`],\n\n                                    backgroundColor: [\n                                      'rgba(255, 99, 132, 0.2)',\n                                      'rgba(54, 162, 235, 0.2)',\n                                      'rgba(153, 102, 255, 0.2)',\n                                      'rgba(255, 206, 86, 0.2)',\n                                      'rgba(75, 192, 192, 0.2)',\n                                      'rgba(255, 159, 64, 0.2)',\n                                      'rgba(223, 141, 243, 0.2)',\n                                      'rgba(82, 255, 94, 0.2)',\n                                    ],\n                                    borderColor: [\n                                      'rgba(255, 99, 132, 1)',\n                                      'rgba(54, 162, 235, 1)',\n                                      'rgba(153, 102, 255, 1)',\n                                      'rgba(255, 206, 86, 1)',\n                                      'rgba(75, 192, 192, 1)',\n                                      'rgba(255, 159, 64, 1)',\n                                      'rgba(223, 141, 243, 1)',\n                                      'rgba(82, 255, 94, 1)',\n                                    ],\n                                    borderWidth: 1\n                                  }]\n                              }}\n                              height={60}\n                              width={200}\n                              options={\n                                {\n                                  plugins: {\n\n                                    legend: {\n                                      display: false\n                                    }\n                                  },\n                                  responsive: true,\n                                  maintainAspectRatio: true,\n                                  scales: {\n                                    y: {\n                                      suggestedMin: 0,\n                                      suggestedMax: 5\n                                    }\n                                  }\n                                }}\n                            />}\n\n                          </Tab.Pane>)\n                      })}\n                    </Tab.Content>\n\n                  </Col>\n                  <Col sm={12} className=\"display-flex flex-wrap\">\n                    {userData.savedCities.map((city) => {\n                      return (\n                        <Nav key={city.cityId} defaultActiveKey={city.cityId} variant=\"pills\"  >\n                          <Nav.Item >\n                            <Nav.Link className=\"p-2 pb-2\" eventKey={city.cityId}> {city.region}</Nav.Link>\n                          </Nav.Item>\n                        </Nav>)\n                    })}\n                  </Col>\n\n                </Row>\n              </Tab.Container>\n\n            </Container>\n\n          </Col>\n\n        </Row>\n      </Jumbotron>\n    </>\n  );\n};\n\nexport default Profile;","export default __webpack_public_path__ + \"static/media/city.603d5ecc.jpg\";","const Footer = () => {\n    return <footer>&copy; 2021 Home City</footer>\n}\n\nexport default Footer;","import React from 'react';\nimport { ApolloClient, InMemoryCache, ApolloProvider, createHttpLink } from '@apollo/client';\nimport { setContext } from '@apollo/client/link/context';\nimport { BrowserRouter as Router, Switch, Route } from 'react-router-dom';\n\n\nimport NavBar from './components/NavBar';\nimport Home from './pages/Home';\nimport Profile from './pages/Profile';\nimport Footer from './components/Footer';\n\n// create main GraphQL API endpoint\nconst httpLink = createHttpLink({\n  uri: '/graphql',\n});\n\n// create request middleware\nconst authLink = setContext((_, { headers }) => {\n\n  // get the token from local storage \n  const token = localStorage.getItem('id_token');\n\n  // return the headers to the context\n  return {\n    headers: {\n      ...headers,\n      authorization: token ? `Bearer ${token}` : '',\n    },\n  };\n});\n\n// create Apollo client\nconst client = new ApolloClient({\n  link: authLink.concat(httpLink),\n  cache: new InMemoryCache(),\n});\n\nfunction App() {\n  return (\n    <ApolloProvider client={client}>\n      <Router>\n        <>\n          <NavBar />\n          <Switch>\n            <Route exact path='/' component={Home} />\n            <Route exact path='/profile' component={Profile} />\n\n            <Route render={() => <h1 className='display-2'>Wrong page!</h1>} />\n          </Switch>\n          <Footer />\n        </>\n      </Router>\n    </ApolloProvider>\n  );\n}\n\nexport default App;\n\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport './index.css';\nimport App from './App';\nimport 'semantic-ui-css/semantic.min.css'\n// import * as serviceWorker from '../misc/serviceWorkerRegistration';\n\n\nReactDOM.render(\n\n  <App />,\n\n  document.getElementById('root')\n);\n\n// serviceWorker.register();"],"sourceRoot":""}